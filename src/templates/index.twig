{% extends "_layouts/cp" %}

{% from 'database-translations/_includes/macros.twig' import registerJsModules %}

{% do view.registerAssetBundle("digitalpulsebe\\database_translations\\assetbundles\\CraftDatabaseTranslationsAsset") %}
{% set baseAssetsUrl = view.getAssetManager().getPublishedUrl('@digitalpulsebe/database_translations/assetbundles/database_translations/dist', true) %}

{% block foot %}
    {{ parent() }}
    {% set jsModules = [
        'app.js',
        'vendors~app.js'
    ] %}
    {{ registerJsModules(jsModules) }}
{% endblock %}

{% set title = 'Translations' %}

{% set crumbs = [
    { label: 'Database Translations', url: url('database-translations') },
    { label: 'Translations', url: url('database-translations') }
] %}

{% set locales = craft.app.i18n.siteLocales|map(locale => locale.id) %}
{% set filters = craft.app.request.get('filters') %}
{% set sourceMessageQuery = craft.databaseTranslations.sourceMessages(filters).limit(100) %}

{% paginate sourceMessageQuery as pageInfo, sourceMessages %}

{% block actionButton %}
    {# <button type="submit" class="btn submit" form="translations-table">Save All</button> #}
{% endblock %}

{% block toolbar %}
    <filters></filters>
{% endblock %}

{% block content %}
    <div class="main">
        <div class="elements">
            <div class="tableview tablepane">
                <dashboard></dashboard>
            </div>
        </div>
    </div>
{% endblock %}

{% block footer %}
    <actions></actions>
{% endblock %}